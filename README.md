# Кассовый ПК на tkinter
Лабораторная работа 22.


Необходимо разработать программу для кассового ПК. Программа должна позволить реализовывать товар, изменяя данные в БД
1. Разработайте базу данных с двумя таблицами: товары и реализованные товары. Таблица товары должна содержать штрихкод товара, наименование, производителя, количество. Программа реализованных товаров должна иметь порядковый номер, номер чека, штрих-код товара, количество.

Работа с БД и создание таблиц реализовано в [db_sqlite.py](https://github.com/maskyy/tkinter-shop/blob/main/db_sqlite.py). Также есть таблица чеков, т.к. реализованные товары ссылаются на ID чека.

2. Реализуйте функционал админстратора магзина. Администратор магазина может регистрироваться в программе по логину и паролю. Администратор имеет право просматривать остатки товаров в магазине, добавлять новые и старые товары, просматривать реализованные товары. При реализации данного функционала, осуществите работу с базой данных.

![Окно авторизации](https://user-images.githubusercontent.com/62175286/215329838-e61059fe-b841-4f3e-b728-2a0c0f470139.png)
Главное окно магазина. Можно зарегистрироваться (и выбрать роль), авторизоваться. Используется [login.py](https://github.com/maskyy/tkinter-shop/blob/main/login.py).  Хранение данных юзеров в БД не сделано, потому что не требовалось :) 

![Список товаров](https://user-images.githubusercontent.com/62175286/215330031-043dbb81-e288-456e-95d0-3bf9fcacb7cb.png)
![Панель поставок](https://user-images.githubusercontent.com/62175286/215330458-ef791741-c4b4-427b-9198-928436705cee.png)
![Вкладка продаж](https://user-images.githubusercontent.com/62175286/215330489-ed6c105e-9677-49af-9fed-eb53218783dd.png)
Админ может смотреть все товары из БД, добавлять новые и обновлять старые товары (через окно поставки), просматривать продажи, возвращать чеки и/или товары, сбрасывать выручку.

3. Реализуйте функционал кассира магазина. Кассир магазина может регистрироваться в программе по логину и паролю. Кассир имеет право реализовать товар. Учтите, что продать больше чем имеется, кассир не может.  При продаже кассир вводит штрих-код товара и его количество ( по умолчанию количество всегда = 1 товару). Кассир реализует несколько товаров в одном чеке. Для завершения продажи и перехода к следующей продаже, кассир нажимает кнопку "Продать". При реализации данного функционала, осуществите работу с базой данных.

![Кассовое окно](https://user-images.githubusercontent.com/62175286/215330669-c241fbc0-c11f-43d1-ba2a-a870168f1927.png)

У кассира есть список всех товаров, при клике на товар его штрихкод добавляется в соответствующее поле, а кол-во устанавливается на 1. При нажатии Enter кликается кнопка "Добавить" для ускорения работы. Можно убрать товары из чека при вводе данных администратора.

4. Реализуйте процедуру отмены товара при реализации, реализуйте процедуру возврата товара после покупки.

Админ - через вкладку "Продажи", кассир - через кнопку "Вернуть" (см. скриншоты выше).

5. Реализуйте функционал подсказок пользователю. Подсказки должны появляться при нажатии на знак вопроса в каждом окне программы. Исключите ошибки пользователя при вводе данных в программу. При вводе пароля, скройте введение символы. Добавьте логотип магазина на каждое окно программы. Реализуйте возможность администратора просмотра выручки (подсчет стоимости всех реализованных товаров)

Подсказки выполнены в виде кнопок "?", при их нажатии всплывает окно с помощью (пример на скрине поставки). Валидация данных: при входе (существует ли логин, верный ли пароль), у админа (в поставках: ШК из 13 цифр, название и производитель непустые, кол-во >= 0, цена > 0), у кассира (ШК из 13 цифр и существует в БД, кол-во > 0; чек не должен быть пустым при продаже).

Дополнительное от себя:
- попытка разделить всё на файлы и классы (админ, кассир, взаимодействие с БД, основное окно, хелперы: подсказка, логин, стилизация (дабы не прописывать каждый элемент руками), виджеты TableView и Tabs из ttk.TreeView и ttk.Notebook соответственно (для упрощения работы), окна, другие функции).
- максимизация всех окон (предполагается для ПК-кассы)
- дефицит комментариев в файлах :(
- различные библиотеки для валидации, упрощения работы с tk не искал и не применял
- немного упрощено ручное тестирование (запуск admin.py или cashier.py напрямую либо запуск через `./main.py admin 123`)

Вывод: удалось сверстать несколько окон в tk, поработать с sqlite3, минимально прописать логику программы (в основном проверка чего-либо). программу можно немного улучшить по коду: закомментировать, добавить типы, убрать некоторые костыли, использовать библиотеки для валидации.
